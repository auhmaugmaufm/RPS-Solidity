<h2>การป้องกันการล็อคเงินใน Contract</h2>
<ul>
  <li>ฟังก์ชัน checkTimeOut(): ฟังก์ชันนี้จะตรวจสอบว่าเวลาที่กำหนดหมดลงหรือไม่ หากหมดเวลา จะมีการตรวจสอบเงื่อนไขต่างๆ เพื่อคืนเงินให้กับผู้เล่น
    <ul>
      <li>หากมีผู้เล่นเพียงคนเดียว: จะคืนเงินทั้งหมดให้กับผู้เล่นคนนั้น</li>
      <li>หากมีผู้เล่นครบสองคนและทั้งคู่ commit ตัวเลือกแล้ว: จะแบ่งเงินรางวัลให้คนละครึ่ง</li>
      <li>หากมีผู้เล่นคนใดคนหนึ่ง commit แล้ว อีกคนยังไม่ commit จะคืนเงินทั้งหมดให้คนที่ commit แล้ว</li>
    </ul>
  </li>
</ul>
![image](https://github.com/user-attachments/assets/d921a4d5-4c1c-4d8e-88a1-22ed49f8b241)


<h2>การซ่อน choice และ commit</h2>
<ul>
  <li>ฟังก์ชัน getChoiceHash(): ผู้เล่นจะใช้ฟังก์ชันนี้เพื่อสร้าง hash ของตัวเลือกของตัวเอง โดยการผสม choice กับเลขสุ่ม (randomNumber)</li>
  <li>ฟังก์ชัน inputCommit(): ผู้เล่นจะส่ง hash ที่สร้างขึ้นไปยังฟังก์ชันนี้เพื่อ "commit" ตัวเลือกของตน โดย hash นี้จะถูกเก็บไว้ใน player_choice_commit</li>
  <li>การใช้ hash ทำให้ตัวเลือกของผู้เล่นถูกซ่อนไว้จนกว่าจะส่ง commit กันทั้งสองคน หลังจากนั้นจะทำการเรียกใช้ inputReveal และจะเปิดเผยคำตอบที่ผู้ใช้เลือก</li>
</ul>
![image](https://github.com/user-attachments/assets/d7f2f3bd-0fb7-43dd-af76-facd32bd08d4)


<h2>การจัดการกับความล่าช้าของผู้เล่น</h2>
<ul>
  <li>ฟังก์ชัน checkTimeOut(): ดังที่กล่าวไว้ข้างต้น ฟังก์ชันนี้จะตรวจสอบเวลาหมดและดำเนินการคืนเงินหากผู้เล่นไม่ครบหรือไม่มีการเปิดเผยตัวเลือกภายในเวลาที่กำหนด</li>
  <li>การกำหนดเวลา timeOut ทำให้ contract จัดการกับกรณีที่ผู้เล่นคนใดคนหนึ่งออกจากเกม หรือเกิดเหตุการณ์ทำให้ไม่สามารถเล่นเกมจนจบได้</li>
</ul>

<h2>การ reveal และการตัดสินผู้ชนะ</h2>
<ul>
  <li>ฟังก์ชัน inputReveal(): ผู้เล่นจะส่งเลขสุ่มและตัวเลือกที่แท้จริงของตนไปยังฟังก์ชันนี้เพื่อ "reveal" ตัวเลือก</li>
  <li>ฟังก์ชัน checkWinnerAndPay(): เมื่อผู้เล่นทั้งสองคน reveal ตัวเลือกแล้ว ฟังก์ชันนี้จะถูกเรียกใช้เพื่อเปรียบเทียบตัวเลือกและตัดสินผู้ชนะ</li>
  <li>การคำนวณผู้ชนะ: มีการใช้เงื่อนไข if-else เพื่อตรวจสอบว่าใครเป็นผู้ชนะตามกฎของเกม RPS</li>
  <li>การจ่ายรางวัล: ผู้ชนะจะได้รับเงินรางวัลทั้งหมด หรือแบ่งกันหากเสมอกัน</li>
</ul>
![image](https://github.com/user-attachments/assets/9da44a49-1b0b-4da3-83e9-9a65fa3a2bde)


<h3>Rules</h3>
<table border="1">
  <tr>
    <th>เลือก (X)</th>
    <th>ชนะ (X+1) % 5</th>
    <th>ชนะ (X+3) % 5</th>
  </tr>
  <tr>
    <td>Scissors (0)</td>
    <td>Paper (1)</td>
    <td>Lizard (3)</td>
  </tr>
  <tr>
    <td>Paper (1)</td>
    <td>Rock (2)</td>
    <td>Spock (4)</td>
  </tr>
  <tr>
    <td>Rock (2)</td>
    <td>Lizard (3)</td>
    <td>Scissors (0)</td>
  </tr>
  <tr>
    <td>Lizard (3)</td>
    <td>Spock (4)</td>
    <td>Paper (1)</td>
  </tr>
  <tr>
    <td>Spock (4)</td>
    <td>Scissors (0)</td>
    <td>Rock (2)</td>
  </tr>
</table>
